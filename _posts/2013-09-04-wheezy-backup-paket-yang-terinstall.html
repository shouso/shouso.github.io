---
layout: post
title: 'Wheezy : Backup Paket yang Terinstall'
date: '2013-09-04T22:47:00.000-07:00'
author: Shouso
tags:
- paket
- Backup
- Wheezy
- cut
- grep
- dpkg-repack
- pipe
- dpkg --get-selections
- debian
modified_time: '2013-09-12T03:19:09.187-07:00'
blogger_id: tag:blogger.com,1999:blog-1667078280118069816.post-4178646626459995179
blogger_orig_url: https://www.naciro.xyz/2013/09/wheezy-backup-paket-yang-terinstall.html
---

<div style="text-align: center;"><div style="text-align: justify;"><div class="separator" style="clear: both; text-align: center;"><a href="http://linuxrede.files.wordpress.com/2013/06/dpkg_list_package.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://linuxrede.files.wordpress.com/2013/06/dpkg_list_package.jpg" style="cursor: move;" /></a></div><br /></div></div><div style="text-align: justify;">Kadang-kadang kita suka bongkar pasang paket software ya... hari ini lagi mood mainan trigger, kita install trigger... bosen tinggal uninstall... d segala macem lainnya.. atau pas cuma mau nyoba install paket tertentu aja..</div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">Nah, jadi masalah kalo kita install di Debian itu kita mesti make manajer paket yakni dpkg dan turunannya (apt-get install, aptitude, atau dselect) itu kan dapet via online atau pake dvd repo. Nah, kalo pas instalasi sih standarnya semua paket itu diunduh ke folder /var/log/cache/apt/archives. kalo mau backup tinggal kita kopi isi folder tadi dan kita pindahkan ketempat lain.</div><div style="text-align: justify;"><br /><a name='more'></a><br /></div><div style="text-align: justify;">Tapi, hal ini bermasalah kalo kita udah sering membersihkannya pake perintah apt-cache autoclean yang emang membuang semua isi folder tadi. Backup manual ini juga ga dapat mengarsipkan paket-paket yang di install ketika pertama kali fress-install dari CD/DVD installer. Maka, akan banyak dependencies unmet yang terjadi, dan juga pastinya ga semua paket yang ada di sistem ente dapat di backup.</div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">Solusinya adalah memanfaatkan fitur dpkg --get-selections dari dpkg yang mendaftar semua paket yang di install dan pernah di-install (statusnya deinstall) di Debian Wheezy anda dan menggunakan bantuan dpkg-repack untuk membentuk kembali paket-paket yang ada di sistem, serta grep dan cut untuk memudahkan proses dari daftar hasil dari dpkg --get-selections agar dapat dibaca oleh dpkg-repack. Hal ini karena, secara umum dpkg-repack itu cuma membentuk kembali hanya satu paket tertentu.Kalo mau satu sistem Wheezy anda yang harus di backup, maka kita harus memanfaatkan salah satu keajaiban dari UNIX-Like OS (sh script tepatnya) yakni teknik pipe.</div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">Nah, dengan teknik pipe, kita bisa memanfaatkan grep dan cut untuk menghasilkan daftar dari dpkg yang akan dibaca oleh dpkg-repack. Caranya, gampang kok, pertama install dulu dpkg-repack dan fakeroot</div><div style="text-align: justify;"><br /></div><pre class="bbcode_code" style="background-color: #efefef; background-image: none; background-repeat: repeat no-repeat; border: 1px inset; direction: ltr; font-family: 'Ubuntu Mono', monospace; font-size: 14px; height: 60px; line-height: 14px; overflow: auto; padding: 6px; word-wrap: normal;">apt-get install dpkg-repack fakeroot</pre><div style="text-align: justify;"><br /></div><div style="text-align: justify;">bikin direktori untuk menampung berkas .deb hasil repack, dan pindah kedalam folder tadi</div><div style="text-align: justify;"><br /></div><pre class="bbcode_code" style="background-color: #efefef; background-image: none; background-repeat: repeat no-repeat; border: 1px inset; direction: ltr; font-family: 'Ubuntu Mono', monospace; font-size: 14px; height: 60px; line-height: 14px; overflow: auto; padding: 6px; word-wrap: normal;"> mkdir ~/dpkg-repack; cd ~/dpkg-repack</pre><div style="text-align: justify;"><br /></div><div style="text-align: justify;">terus jalanin skrip singkat berikut ini&nbsp;</div><div style="text-align: justify;"><br /></div><pre class="bbcode_code" style="background-color: #efefef; background-image: none; background-repeat: repeat no-repeat; border: 1px inset; direction: ltr; font-family: 'Ubuntu Mono', monospace; font-size: 14px; height: 60px; line-height: 14px; overflow: auto; padding: 6px; word-wrap: normal;"> fakeroot -u dpkg-repack `dpkg --get-selections | grep -w install | cut -f1`</pre><div style="text-align: justify;"><br /></div><div style="text-align: justify;">tunggu sampai selesai. Dan kalo udah selesai liat aja di folder dpkg-repack dan liat hasilnya...</div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">Kalo mau install, dapat ente pake perintah dpkg -i .*deb yang akan melakukan instalasi seluruh hasil dpkg-repack tadi, cuma emang kurang aman, mending kita buat repo lokal aja pake perintah dpkg scanpackages, terus tambahin ke sources.list dan install pake apt-get install atau aptitude agar dependensinya ikut di cek. Karena, kalo make dpkg -i itukan ga ngecek dependensi. takutnya ada yang lewat dan ga bisa dijalanin.</div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">Oke, selamat mencoba :</div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">NB : terinspirasi dari pertanyaan <a href="https://www.facebook.com/arisch.crackersBeatdown">Aris Malakian</a> di grub FB <a href="https://www.facebook.com/groups/debian.indonesia/">Debian</a></div><div style="text-align: justify;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;skripnya punya <a href="http://ubuntuforums.org/member.php?u=92445">abhiroopb</a> di forum ubuntu, saya tambahin opsi -w<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;gambar dari <a href="http://linuxrede.files.wordpress.com/2013/06/dpkg_list_package.jpg">linuxrede</a></div><div style="text-align: justify;"><br /><br />Next Read :</div><div style="text-align: justify;">1.&nbsp;<a href="http://ubuntuforums.org/showthread.php?t=819396">http://ubuntuforums.org/showthread.php?t=819396</a></div><div style="text-align: justify;">2.&nbsp;<a href="http://www.cyberciti.biz/faq/howto-use-grep-command-in-linux-unix/">http://www.cyberciti.biz/faq/howto-use-grep-command-in-linux-unix/</a></div>